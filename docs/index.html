import javafx.application.Application;
import javafx.scene.Scene;
import javafx.stage.Stage;
import javafx.scene.layout.StackPane;
import javafx.scene.paint.Color;
import javafx.scene.shape.Rectangle;
import javafx.scene.input.KeyEvent;
import javafx.animation.AnimationTimer;

public class FlightSim extends Application {

    private double altitude = 1000; // Initial altitude (in feet)
    private double speed = 250; // Initial speed (in knots)
    private double heading = 0; // 0 degrees (North)

    // Aircraft's graphical representation (a simple rectangle)
    private Rectangle aircraft;

    public static void main(String[] args) {
        launch(args);
    }

    @Override
    public void start(Stage primaryStage) {
        StackPane root = new StackPane();
        Scene scene = new Scene(root, 800, 600);
        scene.setFill(Color.CYAN);  // Sky blue background

        // Create a simple rectangular "aircraft"
        aircraft = new Rectangle(40, 20, Color.RED);
        root.getChildren().add(aircraft);

        // Handle key events to control the flight
        scene.setOnKeyPressed(this::handleKeyPress);

        // Initialize the "flight" simulation timer
        new AnimationTimer() {
            @Override
            public void handle(long now) {
                updateAircraftPosition();
            }
        }.start();

        primaryStage.setTitle("Simple Flight Simulator");
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    // Handle key press events to control speed, altitude, and heading
    private void handleKeyPress(KeyEvent event) {
        switch (event.getCode()) {
            case UP: // Increase altitude
                altitude += 100;
                break;
            case DOWN: // Decrease altitude
                altitude -= 100;
                break;
            case LEFT: // Turn left (heading counter-clockwise)
                heading -= 5;
                break;
            case RIGHT: // Turn right (heading clockwise)
                heading += 5;
                break;
            case W: // Increase speed
                speed += 10;
                break;
            case S: // Decrease speed
                speed -= 10;
                break;
            default:
                break;
        }
    }

    // Update aircraft position based on speed and heading
    private void updateAircraftPosition() {
        // Calculate new position based on heading and speed
        double deltaX = Math.cos(Math.toRadians(heading)) * speed / 50; // Divide speed to slow down the movement
        double deltaY = Math.sin(Math.toRadians(heading)) * speed / 50;

        // Update aircraft's position
        aircraft.setX(aircraft.getX() + deltaX);
        aircraft.setY(aircraft.getY() + deltaY);

        // For simplicity, let's add a limit to the movement
        if (aircraft.getX() > 800) aircraft.setX(0); // Wrap around horizontally
        if (aircraft.getY() > 600) aircraft.setY(0); // Wrap around vertically

        // Optionally: display the altitude and speed in the console
        System.out.println("Altitude: " + altitude + " ft, Speed: " + speed + " knots, Heading: " + heading + "Â°");
    }
}



